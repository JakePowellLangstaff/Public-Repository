<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Login/Register</title>

    <!-- Tailwind CSS -->
    <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">

    <!-- Animate.css for entrance animation -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css"/>

    <style>
        /* Styling for the body */
        body {
            background: linear-gradient(135deg, #000000, #1a1a1a);
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }

        /* Centered container styling */
        .glass-container {
            background: rgba(255, 255, 255, 0.05);
            border: 1px solid rgba(255, 255, 255, 0.2);
            backdrop-filter: blur(15px);
            -webkit-backdrop-filter: blur(15px);
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.5);
        }

        /* Glow text styling */
        .glow-text {
            color: #0ff;
            text-shadow: 0 0 10px #0ff, 0 0 20px #0ff;
        }

        /* Input field styling */
        input[type="text"], input[type="password"] {
            background-color: #111827;
            color: #fff;
            border: 1px solid #374151;
        }

        /* Label styling */
        label {
            color: #d1d5db;
        }

        /* Button hover effect */
        button:hover {
            transform: scale(1.05);
            transition: 0.3s ease;
        }

        /* Added style for flash messages */
        .flash-messages p {
            color: white; /* Set text color to white */
        }
    </style>
</head>
<body class="flex items-center justify-center h-screen p-4">

    <!-- Main Content -->
    <div class="glass-container rounded-xl p-8 w-full max-w-md animate__animated animate__fadeIn">
        <h1 align="center" class="text-3xl font-bold mb-6 glow-text">Welcome</h1>

        <!-- Flash Messages -->
        {% with messages = get_flashed_messages(with_categories=true) %}
        {% if messages %}
        <div class="flash-messages">
            {% for category, message in messages %}
            <p class="{{ category }}">{{ message }}</p>
            {% endfor %}
        </div>
        {% endif %}
        {% endwith %}

        <form id="auth-form" action="{{url_for('login')}}" method="POST" class="space-y-4">
            <div>
                <label class="block mb-1">Username:</label>
                <input 
                    type="text"
                    name="username"
                    placeholder="Enter username"
                    class="w-full p-2 rounded-md focus:outline-none focus:ring-2 focus:ring-cyan-400"
                />
            </div>
            <div>
                <label class="block mb-1">Password:</label>
                <input 
                    type="password"
                    name="password"
                    placeholder="Enter password"
                    class="w-full p-2 rounded-md focus:outline-none focus:ring-2 focus:ring-cyan-400"
                />
            </div>
            <div class="flex justify-between">
                <button type="submit" class="bg-green-600 text-white py-2 px-4 rounded-md hover:bg-green-700">
                    Login
                </button>
                <button type="button" class="bg-purple-600 text-white py-2 px-4 rounded-md hover:bg-purple-700" onclick="setActionForm('register')">
                    Register
                </button>
            </div>
        </form>
    </div>

    <script>
        function setActionForm(action) {
            let form = document.getElementById("auth-form");
            if (action === "login") {
                form.action = "{{url_for('login')}}";
            } else if (action === "register") {
                form.action = "{{url_for('register')}}";
            }
            form.method = "post";
            form.submit();
        }
    </script>
</body>
</html>
