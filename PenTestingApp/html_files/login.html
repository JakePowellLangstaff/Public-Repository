<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Login/Register</title>

</head>
<body>

    <div class="container">
        <h1>Welcome</h1>

        <!-- Flash Messages -->
        {% with messages = get_flashed_messages(with_categories=true) %}
        {% if messages %}
        <div>
            {% for category, message in messages %}
            <p class="{{ category }}">{{ message }}</p>
            {% endfor %}
        </div>
        {% endif %}
        {% endwith %}

        <form id="auth-form" action="{{url_for('login')}}" method="POST">
            <input 
                type="text"
                name="username"
                placeholder="username"
                class ="input-field"
            />
            <input 
                type="password"
                name="password"
                placeholder="password"
                class ="input-field"
            />
            <input type="submit" value="Login" class="btn btn-login" onclick="setActionForm('login')" />
            <input type="button" value="Register" class="btn btn-login" onclick="setActionForm('register')" />
        </form>
    </div>

    <script>
        function setActionForm(action){
            let form = document.getElementById("auth-form");
            if (action == "login"){
                form.action = "{{url_for('login')}}";
                form.method = "post";
                form.submit();
            } else if (action == "register"){
                form.action = "{{url_for('register')}}";
                form.method = "post";
                form.submit();
            }

        }

    </script>





  



</body>
</html>
